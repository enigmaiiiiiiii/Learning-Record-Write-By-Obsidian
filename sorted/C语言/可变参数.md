# va_list

- 用在有可变参数的函数中, 用于提取参数

1. 提供一个省略号的函数原型
2. 在函数定义中创建一个va_list类型的变量
3. 用宏把该变量初始化为一个参数列表
4. 用宏访问参数列表
5. 用宏完成清理工作

```c
void f1(int n, ...);
```

- 可变参数的由一个形参和一个省略号组成
- 其中形参是一个被称作parmN的特殊形参，用来描述`...`省略号中参数的个数或[[format]]
- 结构体va_list用来存储可变参数

## void va_start(va_list ap, lim)

- 用来将可变参数`...`初始化到va_list结构体ap中

## type va_arg(va_list ap, type)

- 接受两个参数一个va_list类型变量，一个表示类型的对象 
- 每次调用按顺序返回ap中的一个参数, 并指定参数类型
- va_arg完成两项工作
  1. 读取当前参数并返回
  2. 指向下一个参数 
  
  ## void va_end(va_list ap)
  
  - 清理工作，释放内存