# 布隆过滤器

- 有一定的误判率: 实际不存在判断为存在

## 位数组

- 每个位置1bit
- 位数组长度就是过滤器的长度

## 原理

- 将元素映射到位数组中: 通过随机的几个hash函数，将函数值对应的为数组的位置设置为1
- 判断元素是否存在: 通过随机的几个hash函数，将函数值对应的为数组的位置判断是否为1
    - 如果都为1，那么很可能存在
    - 如果有一个为0，那么一定不存在

## 误判率

- 误判率公式: $p \approx (1 - e^{(-kn/m)})^k$
  - k: hash函数个数
  - n: 元素个数
  - m: 位数组长度

## 如何确定位数组长度和hash函数个数

- 位数组长度: $m = -\frac{n \cdot ln(p)}{ln^2(2)}$
  - p: 可接受的误判率
- hash函数个数: $k = \frac{m}{n} \cdot ln(2)$
