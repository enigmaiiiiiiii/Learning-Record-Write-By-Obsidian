# 死锁

- 是使用锁操作的一种状态
- 比如进程p1占用了显示器，同时又必须使用打印机，进程p2占用了打印机，又必须使用显示器，这样就形成了死锁

## 形成死锁的四个条件(coffman condition)

- known as coffman condition
  - 互斥: 资源只能同时分配给一个进程，多个进程无法共享
  - 资源持有并等待：一个进程当前持有至少一个资源并请求其他进程持有的其他资源。
  - 禁止抢占：系统资源不能被强制从一个进程中退出
  - 循环等待: 一系列进程互相持有其他进程所需的资源
- 同时满足四个条件发生
  - 单例(single-instance)资源系统中产生死锁  
  - 资源有多个实例(multiple instance)的系统中只预示了死锁发生的可能
  
## 解决办法  

- 阻止一个条件发生, 多数情况针对第四个条件
- 在有死锁检测时，死锁允许发生，由系统纠正，回滚一个或多个进程来消除死锁
  
## 活锁